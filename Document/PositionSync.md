# Position Synchronize
对于一个可见物体，改变其位置的因素有两个：
1. 玩家控制位置的输入
2. 来自网络的位置信息

对于玩家控制的主角而言，受到上面两个因素的影响，首先使用输入数据做一个即时的输入，同时输入信息会发送给服务器，服务器做一次位置校验。

对于其他游戏对象的位置由服务器端确定。

##技术点
1. 服务器对玩家控制的角色的位置信息的处理：
1.1 仅接受键盘输入，并通过玩家的速度信息确定其位置。（难）
：：该难点在与服务器端需要做大量的变换计算。另外涉及碰撞检测，并且需要一个物理引擎，支持游戏的全部计算。
1.2 玩家发送位置信息，服务器检测位置的合理性后反馈一个“同意”的信息


2. 相互作用
如果A玩家撞到了玩家B，如何同步？

如果子弹集中了坦克，如何同步？

3.实例测试
物体：玩家A控制的坦克tankA，玩家B
场景：tankA向前移动10m
期望：玩家A，B看到tankA向前移动10m，B比A慢
使用（1.1）的实现过程：
* 
完美版：客户端发送w按键到服务器，并且tankA在clientA上计算位置，
服务器计算位置返回给所有客户端，返回给客户端计算后的位置和ping值，clientA的客户端会额外做一件事情——根据ping值和服务器返回的位置来决定客户端自身的当前位置是否合理，如果合理，使用客户端的位置，平滑过渡到服务器位置，否则强制将客户端同步到服务器。
：：服务器保存了到该客户端的ping值

简单版：客户端将计算好位置发送到服务器，服务器验证位置是否合理（结合前一次的位置，速度和ping值，合理性验证不能少），之后返回给所有客户端，客户端做一个平滑处理。
：：和完美版相比，客户端没有本地先移动的过程了。

引申：对于dota的位置

轻量级服务器处理：
服务器忽略碰撞检测，只对位置的前进后退做好计算，并反馈给客户端，客户端再根据具体场景做真实处理。有个问题，服务器不知道客户端被挡住了.

使用状态同步——当某一状态太过于频繁时，可以